/* プロフィール周りのスタイル（index と pages/profile 両方で使う） */

/* 変数（カバー高さ・アバターサイズ・カバーの見切れ位置） */
:root {
  --cover-height: 180px;       /* カバー全体の高さ */
  --avatar-size: 112px;        /* アバターの表示サイズ */
  --cover-cut-percent: 0.85;   /* 見切れ位置（0=上端、1=下端）。調整して合わせる */
}


/* アバターは base.css の変数で制御 */
.profile-avatar{
  position:absolute; /* .hero/.cover を基準に絶対配置する想定 */
  left:var(--container-padding); /* 左寄せ（コンテナのパディングと揃える） */
  width:var(--avatar-size);
  height:var(--avatar-size);
  border-radius:50%;
  overflow:hidden;
  box-sizing:border-box;
  z-index:10;

  /* アバター中央を「見切れ位置」に合わせる計算 */
  top: calc( (var(--cover-height) * var(--cover-cut-percent)) - (var(--avatar-size) / 2) );
}

/* アバター本体 */
.avatar{
  width:100%;
  height:100%;
  display:block;
  object-fit:cover;
  border-radius:50%;
  border:var(--avatar-border) solid var(--bg);
  box-shadow:0 6px 18px rgba(0,0,0,0.45);
}


/* プロフィール情報領域はアバターの下半分分の余白を確保 */
.profile {
  display: block;
  margin-top: 0;
  padding-top: calc((var(--avatar-size) / 2) + 12px); /* アバターの下半分 + 余白 */
  padding-bottom: 16px;
  border-bottom: 1px solid var(--line);
  text-align: left;
  z-index: 3;
}

/* profile-info は中央寄せしてテキストは左揃え */
.profile-info {
  margin: 0 auto;
  width: 100%;
  max-width: 420px;
  padding: 0 16px;
  box-sizing: border-box;
  text-align: left;
}

/* 名前・ハンドル・bio のスタイル（既存のセレクタを維持） */
.name{margin:0 0 6px;font-size:clamp(20px,3.2vw,28px)}
.handle{color:var(--muted);font-weight:500;margin-left:8px}
.bio{margin:0;color:var(--text)}
.link{color:var(--brand)}

/* 幅がある画面では横並び（従来のレイアウト）に戻す */
@media (min-width:720px){
  .profile{
    flex-direction:row;
    align-items:flex-end;
    text-align:left;
  }
  .profile-avatar{ width:112px; height:112px; margin-right:16px; }
  .profile-info{ padding-left:0; max-width:none; }
}

/* 親要素を基準にする（確実に相対配置） */
.hero {
  position: relative; /* これが無いと .profile-avatar は body を基準にする */
  max-width: var(--container-max-width);
  margin: 0 auto;
  width: 100%;
  box-sizing: border-box;
}

/* アバターをコンテナの内側に収める（左寄せを維持しつつ画面端に飛び出さない） */
.profile-avatar{
  position: absolute;
  /* 左オフセットを「(親幅 - 最大コンテナ幅)/2 + コンテナ内パディング」で計算。
     親がフル幅のときでも中央コンテナに揃って表示される。 */
  left: calc((100% - var(--container-max-width)) / 2 + var(--container-padding) + var(--avatar-left-offset));
  width: var(--avatar-size);
  height: var(--avatar-size);
  border-radius: 50%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 10;

  /* アバター中央を「見切れ位置」に合わせる */
  top: calc(var(--cover-height) );

  /* さらに微調整が必要なら translate を使う */
  transform: translateY(var(--avatar-translate-y));
}

/* 念のため avatar のスタイルを再確認 */
.avatar{
  display:block;
  width:100%;
  height:100%;
  object-fit:cover;
  border-radius:50%;
  border:var(--avatar-border) solid var(--bg);
  box-shadow:0 6px 18px rgba(0,0,0,0.45);
}